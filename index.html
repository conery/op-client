<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>A Web App for OptiPass™ - OptiPass Client</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="css/tidegates.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "A Web App for OptiPass\u2122";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> OptiPass Client
        </a>
        <div class="version">
          Version 1.0.1
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Home</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">A Web App for OptiPass™</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#demo">Demo</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#deployment-scenarios">Deployment Scenarios</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#option-1-install-locally">Option 1: Install Locally</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#option-2-docker-container">Option 2: Docker Container</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#option-3-container-at-a-cloud-service">Option 3: Container at a Cloud Service</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#comparing-scenarios">Comparing Scenarios</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#software-developer">Software Developer</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#data-scientist">Data Scientist</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#project-administrator">Project Administrator</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Deployment</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="deploy/">Deploying a Client</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Documentation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="modules/">Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="tests/">Tests</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">OptiPass Client</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Home</li>
      <li class="breadcrumb-item active">A Web App for OptiPass™</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="a-web-app-for-optipasstm">A Web App for OptiPass™</h1>
<p>The Migratory Fish Passage Optimization Tool (OptiPass), is an application developed by Jesse O'Hanley at <a href="https://www.ecotelligence.net/home/optipass">Ecotelligence® LLC</a>.  </p>
<p>The application is written in Visual C++ and runs only in a Microsoft Windows environment.  To make it more accessible to web applications we developed a REST server named <a href="https://github.com/conery/op-client"><code>op-server</code></a> that runs on a Windows VM and acts as an abstract interface to OptiPass .  </p>
<p><code>op-client</code> is a web application the provides a graphical user interface to <code>op-server</code>.
It can be set up to run on any Linux, macOS, or Windows host.
A user just has to start a web browser and point it to the client.
Running OptiPass is simply a matter of setting optimization parameters using familar GUI elements like buttons and sliders and then clicking a "run" button.
Outputs are display in charts and tables in the browser, and can be downloaded for later use offline.</p>
<h2 id="demo">Demo</h2>
<p>The screenshot below shows the graphical user interface.</p>
<p><img alt="demo-settings.png" src="assets/demo-settings.png" /></p>
<p>In this example, the client has connected to a server and requested data from the "demo" project.
This is a small data set from the OptiPass User Manual.
It has six tide gates, named A through F.
B and C are on the Red Fork river, the rest are on the Trident River.</p>
<blockquote>
<p><em>The example in the User Manual does not give names to the rivers.  The names and map shown here are from an imaginary territory.  We gave the rivers names in order to show how the GUI works.</em></p>
</blockquote>
<p>To set up an optimazation run, the user clicks next to river names, which shows the locations of the gates on the map.  In this screenshot both rivers are selected so all six gates are highlighted.</p>
<p>The user then chooses budget levels.  In this case, OptiPass will run five times, with budgets ranging from $100,000 to $500,000.</p>
<p>The last step is to choose optimization targets.  In this case the user has decided target T1 should be given three times as much weight as T2.</p>
<p>When the Run Optimizer button is clicked the client sends these settings to a remote server that is running the <code>op-server</code> software.
That will be a Windows system that has OptiPass installed.
After OptiPass has completed all five optimizations the results are collected and sent back to the client.</p>
<p>The client presents the results as a set of ROI (return-on-investment) curves:</p>
<p><img src="./assets/demo-roi.png" width=500></p>
<p>Below the graphs are tables that show details of the optimization calculation:</p>
<p><img src="./assets/demo-tables.png" width=500></p>
<h2 id="deployment-scenarios">Deployment Scenarios</h2>
<p>There are three ways to set up a client.
Each approach is outlined briefly here.
Below that is a discussion of the pros and cons of each approach.
If you decide you want to use on of the methods to set up your own client you can find detailed instructions in the <a href="deploy/">Deployment</a> section.</p>
<h3 id="option-1-install-locally">Option 1: Install Locally</h3>
<p>The first option is to install the code on your own computer.
This process if very similar to the steps used to install Jupyter and use it to edit IPython notebooks.</p>
<p>The <code>op-client</code> software is written in Python and uses a library named Panel to display the graphical user interface.
Once installed, open a terminal window and type a command that runs the Python program.
Python creates a small special-purpose web server (named Bokeh), then you open a browser on your system and connect to the Bokeh server.</p>
<p><img alt="local-install.png" src="assets/local-install.png" /></p>
<h3 id="option-2-docker-container">Option 2: Docker Container</h3>
<p>This option is similar to Option 1, in that the client software will run on your computer.
The difference is that you do not install any Python code.
Instead, download ("pull") a Docker image from DockerHub.
It will have all the code preinstalled in a self-contained Linux system.</p>
<p>Then all you need to do is launch a container based on this image.
A Bokeh server will be running inside the container.
To use the client open a web browser and connect to the server.</p>
<p><img alt="local-container.png" src="assets/local-container.png" /></p>
<h3 id="option-3-container-at-a-cloud-service">Option 3: Container at a Cloud Service</h3>
<p>This option is just like Option 2, except now the container is running at Amazon Web Services (AWS) or some other cloud computing environment.</p>
<p>Setting up a new server based on a Docker image is very straightforward.
For example, AWS has a service called Lightsail.
You simply log in, choose some settings based on the level of service you want (based on how much traffic you expect), give it the name of the Docker image, and AWS does the rest.</p>
<p>You can also associate a domain name with your new container so that other users can connect to your client.
For example, if you own the domain <code>tidegates-r-us.org</code> you can set it up so it refers to your service at AWS and then other users can point their browswers to <code>https://tidegates-r-us.org</code>.</p>
<p><img alt="cloud-container.png" src="assets/cloud-container.png" /></p>
<h2 id="comparing-scenarios">Comparing Scenarios</h2>
<p>Which scenario is best depends on who will be using the client and what their goals are.</p>
<h4 id="software-developer">Software Developer</h4>
<p>If you want to download the software to see how it works and perhaps adapt it for your own use Option 1 is best.
You probably already have Python installed and are familiar with installing libraries with Pip so installing <code>op-client</code> will be very straightforward.</p>
<h4 id="data-scientist">Data Scientist</h4>
<p>If you want to use the client yourself but don't expect to dig into the source code consider Option 1 or 2.</p>
<p>If you have Docker on your system already then Option 2 is clearly the easiest approach.</p>
<p>If you don't have Docker, consider installing it.
Docker is widely used in data science and odds are you will encounter other projects that are distributed as Docker images.
Installing Docker is straightforward.
There is a little learning curve the first time you use it, but overall the process is not much more complicated than installing a new Python library.</p>
<h4 id="project-administrator">Project Administrator</h4>
<p>If you want to configure an OptiPass server with data for your project and an OptiPass client that will let other project members or stakeholders access the server then Option 3 is your best choice.</p>
<p>You could try Option 1 or Option 2, but it would mean (a) setting up a server on a system within your organization that everyone can access and (b) either installing Python and the client software or Docker on every other group member's system.</p>
<p>It may take some initial effort to create an account at AWS and work through the process of launching a new service but in the end it will be far easier for other group members.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="deploy/" class="btn btn-neutral float-right" title="Deploying a Client">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
      <span><a href="deploy/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
